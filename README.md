# 门户低代码

## 一、数据流
所有关于组件的数据都保存在store的componentData中，组件数据的更新也是通过派发相应的action进行数据的修改，从而更新整个页面。
componentData是嵌套的树状数据结构，如下所示：
```javascript
componentData = [
  {
    id: "123123123",
    componentName: "freedom-conatiner",
    label: "自由容器",
    style: {
      position: "relative"
    },
    children: [
      {
        id: "2323232323"
        componentName: "text-widget",
        label: "文本组件",
        style: {
          position: "absolute",
          top: "100px",
          left: "40px"
        },
      },
      ...
    ]
  }
]
```
## 二、组件分类

### 容器组件

1. 自由容器 FreedomContainer 容器内元素遵循绝对定位的布局方式。
2. Flex容器 FlexContainer 容器内元素遵循flex的布局方式。
3. Main容器 MainContainer，默认只存在于最外层，有最大宽度的限制。
4. Section容器 SectionConatiner，撑满整个所在父元素，容器内元素遵循普通文档流的布局方式。

### Widget组件
1. 文字组件
2. 按钮组件
3. 图片组件
4. 文章列表组件（业务组件，待定）
5. 文章轮播 （业务组件，待定）
6. 轮播图
7. 导航栏组件

## 三、截止到2023年8月26日需要完成的功能点

1. 编辑器。优先级：⭐⭐⭐⭐⭐
2. 预览。优先级：⭐⭐⭐⭐⭐
3. 选中的widget组件的上移（仅限容器组件）、下移（仅限容器组件）、删除、设置。 优先级：⭐⭐⭐⭐⭐
4. 选中的widget组件复制、粘贴。 优先级：⭐⭐⭐
5. 完成flex容器功能。优先级：⭐⭐⭐⭐⭐
6. 完成freedom容器功能。优先级：⭐⭐⭐⭐⭐
7. 完成Section容器功能。优先级：⭐⭐⭐
7. 完成Main容器功能。优先级：⭐⭐⭐
5. 最外层容器只接受新增三种容器。flex容器，freedom容器、div容器，且最外层容器之间不能拖拽。优先级：⭐⭐⭐⭐⭐
6. 三种容器组件可以设置容器的编号（自动生成的id）、名称、宽、高、背景色（图）、是否固定到窗口等属性。flex容器还可设置行列数目，横竖的布局方式。优先级：⭐⭐⭐⭐⭐
7. 拖拽元素的定位计算方式优化。优先级：⭐⭐⭐⭐⭐
8. 自由容器内部组件的位置遵循容器内的碰撞原则，即被拖拽元素的上下左右位置不得超过容器边缘，如果超过，自动紧贴容器边缘放置。优先级：⭐⭐⭐⭐⭐
9. 最外层默认是Main容器，可以设置主内容的最大宽度，并保持居中。（Main容器仅用作最外层容器，不出现在挂件列表中）优先级：⭐⭐⭐
10. 上方和左侧有标尺，选中元素，在标尺内部加深该色块，以显示元素在整个文档中的位置。优先级：⭐⭐⭐
11. 元素绑定动画。优先级：⭐⭐⭐
12. 操作上的撤消、重做。优先级：⭐⭐⭐⭐
13. 拖拽元素在自由容器内的吸附。优先级：⭐⭐⭐
14. 被拖拽元素（widget）拖拽旋转。优先级：⭐⭐⭐



